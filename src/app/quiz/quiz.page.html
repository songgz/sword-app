<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>quiz</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-item lines="none">
    <ion-label slot="start">等级: {{quiz.unit_name}}{{answered}}</ion-label>
    <ion-label>进度: {{index - 1}}/{{quiz.questions?.length}}</ion-label>
    <ion-label color="success" slot="end">正确: {{corrects}}</ion-label><ion-label color="danger" slot="end">错误: {{errors}}</ion-label>
  </ion-item>
  <ion-card class="quiz-card">
    <ion-card-header class="quiz-header">
      <ion-card-title class="quiz-item">{{question.title}}</ion-card-title>
      <ion-progress-bar [value]="progress"></ion-progress-bar>
    </ion-card-header>

    <ion-card-content mode='ios'>
      <ion-item class="quiz-item" button="" detail="false" *ngFor="let choice of question.choices" (click)="choice_answer(choice.id)" [color]="showAnswer(choice.id)">
        <ion-label>{{choice.title}}</ion-label>
        <ion-icon  name="close-circle-outline" *ngIf="question.right_answer !== choice.id && question.user_answer === choice.id" ></ion-icon>
        <ion-icon color="warning"  name="checkmark-circle-outline" *ngIf="answered && question.right_answer === choice.id"></ion-icon>
      </ion-item>

    </ion-card-content>
  </ion-card>
</ion-content>
